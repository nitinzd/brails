- content_for :javascript do
  = javascript_include_tag 'levels', 'handle_aria_event'
#grid-wrapper.lessons{:role => "application"}
  %h1 Select level
  #game-levels.no-focus{role: 'grid', tabindex: '0'}
    - (1..@levels.count).to_a.each_slice(2).each_with_index do |levels, row_index|
      .row-fluid{role: 'row'}
        - levels.each_with_index do |level, col_index|
          - @level = @levels[level-1]
          - level_coins_count = @level.calculate_coins_count
          .gridcell.grid-cell.span6{id: "row_#{row_index}_col_#{col_index}", role: 'gridcell',
                    "aria-labelledby"=> "level_number_#{@level.level_number}",
                    "aria-describedby"=>"level_caption_#{@level.level_number}"}
            .row-fluid
              .span4.summary-coin.colored-block
                = "#{level_coins_count}"
              .span8.lesson-summary.colored-block.no-focus
                %header{id: "level_number_#{@level.level_number}"}
                  .counter{class: "counter-#{@level.level_number}"}
                  = @level.level_number
                %p.description{id: "level_caption_#{@level.level_number}"}
                  = link_to @level.level_name, level_path(@level)

